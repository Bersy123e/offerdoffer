# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –î–ê–¢ –í –ö–û–ú–ú–ï–†–ß–ï–°–ö–ò–• –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø–•

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

–î–∞—Ç–∞: 09.06.2025 00:02
–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: AI Assistant

## üéØ –ü–†–û–ë–õ–ï–ú–ê

**–ë—ã–ª–æ**: –í –ö–ü –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤–º–µ—Å—Ç–æ –¥–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
**–°—Ç–∞–ª–æ**: –í –ö–ü –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –∏–∑ —Å–∞–º–æ–≥–æ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞

## üîß –í–ù–ï–°–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ö–ü
**–§–∞–π–ª**: `django_app/products/views.py`

```python
# –ë–´–õ–û:
date_str = product.created_at.strftime('%d.%m.%Y') if product.created_at else "-"

# –°–¢–ê–õ–û:
date_str = product.price_list_date if product.price_list_date else "-"
```

### 2. –£–ª—É—á—à–µ–Ω —Ä–µ–≥–µ–∫—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞—Ç –≤ upload_price_list
**–ë—ã–ª–æ**: –†–µ–≥–µ–∫—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–ª —Å —Ñ–∞–π–ª–∞–º–∏ –≥–¥–µ –¥–∞—Ç–∞ –∏–¥–µ—Ç –ø–µ—Ä–≤–æ–π
**–°—Ç–∞–ª–æ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–≥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

```python
# –ù–û–í–´–ô –†–ï–ì–ï–ö–°:
date_match = re.search(r'(\d{2}[._-]\d{2}[._-](?:20)?\d{2})', file_base)

# –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢:
# - 03.03.2025 (–ø–æ–ª–Ω—ã–π –≥–æ–¥)
# - 03.03.25 (–∫–æ—Ä–æ—Ç–∫–∏–π –≥–æ–¥ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 2025)
# - 03_03_2025 (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è)
# - 03-03-2025 (–¥–µ—Ñ–∏—Å—ã)
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ price_list_date –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

```python
# –í upload_price_list:
products_to_create.append(Product(
    supplier=supplier,
    name=str(name).strip(),
    price=price_val,
    stock=stock_val,
    article=article,
    price_list_date=date_str  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
))

# –í manual_column_mapping:
products_to_create.append(Product(
    supplier=supplier,
    name=str(name).strip(),
    price=price,
    stock=stock,
    price_list_date=file_date  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
))
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞—Ç –∏–∑ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤:
- `03.03.2025 –æ—Å—Ç–∞—Ç–∫–∏ –∏ –ø—Ä–∞–π—Å –û–Ω–∏–∫—Å.xls` ‚Üí `03.03.2025`
- `03.03.25 –æ—Å—Ç–∞—Ç–∫–∏ –£—Ä–∞–ª–û—Ç–≤–æ–¥.xlsx` ‚Üí `03.03.2025` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–æ–¥–∞)
- `03_03_2025_–æ—Å—Ç–∞—Ç–∫–∏_–∏_–ø—Ä–∞–π—Å_–°–∞–Ω—Ç–µ—Ö—Å–±—ã—Ç.xls` ‚Üí `03.03.2025`
- `12.03.2025 –ø—Ä–∞–π—Å –£–ê–ó.xlsx` ‚Üí `12.03.2025`
- `19_03_25_–û—Å—Ç–∞—Ç–∫–∏_–∏_–ü—Ä–∞–π—Å_–ì–ö_–≠–Ω–µ—Ä–≥–æ–∫–æ–Ω—Ç—Ä–æ–ª—å_–°–ø–±.xls` ‚Üí `19.03.2025`

### ‚úÖ –¢–µ—Å—Ç –ö–ü —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏:
```
–ü–æ–∑–∏—Ü–∏—è 1: –¢–ï–°–¢ –†–µ–¥—É–∫—Ç–æ—Ä | –î–∞—Ç–∞: 03.03.2025 | –°—É–º–º–∞: 30000.00 —Ä—É–±
–ü–æ–∑–∏—Ü–∏—è 2: –¢–ï–°–¢ –ó–∞–¥–≤–∏–∂–∫–∞ | –î–∞—Ç–∞: 12.03.2025 | –°—É–º–º–∞: 90000.00 —Ä—É–±  
–ü–æ–∑–∏—Ü–∏—è 3: –¢–ï–°–¢ –û—Ç–≤–æ–¥    | –î–∞—Ç–∞: 27.02.2025 | –°—É–º–º–∞: 560.00 —Ä—É–±
–ò–¢–û–ì–û: 120560.00 —Ä—É–±

‚úÖ –ü–†–û–í–ï–†–ö–ê: –°–µ–≥–æ–¥–Ω—è 09.06.2025, –≤ –ö–ü –¥–∞—Ç—ã –∏–∑ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤ (–º–∞—Ä—Ç 2025)
```

## üîç –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

### –î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤:
1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞** ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç—ã –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å `price_list_date`
3. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–ü** ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `price_list_date` –≤–º–µ—Å—Ç–æ `created_at`

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤:
- –¢–æ–≤–∞—Ä—ã –±–µ–∑ `price_list_date` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "-" –≤ –ö–ü
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞—Ç

## üìã –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–ú–´–ï –§–û–†–ú–ê–¢–´ –î–ê–¢

### –í –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤:
- `–î–î.–ú–ú.–ì–ì–ì–ì` (03.03.2025)
- `–î–î.–ú–ú.–ì–ì` (03.03.25 ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 03.03.2025)
- `–î–î_–ú–ú_–ì–ì–ì–ì` (03_03_2025)
- `–î–î-–ú–ú-–ì–ì–ì–ì` (03-03-2025)

### –ü–æ–∑–∏—Ü–∏—è –¥–∞—Ç—ã –≤ –∏–º–µ–Ω–∏:
- **–í –Ω–∞—á–∞–ª–µ**: `03.03.2025 –æ—Å—Ç–∞—Ç–∫–∏ –ü–æ—Å—Ç–∞–≤—â–∏–∫.xlsx`
- **–í —Å–µ—Ä–µ–¥–∏–Ω–µ**: `–ü–æ—Å—Ç–∞–≤—â–∏–∫ 03.03.2025 –ø—Ä–∞–π—Å.xlsx`
- **–ë–µ–∑ –¥–∞—Ç—ã**: `–û–° –ü—Ä–∞–π—Å (4).xlsx` ‚Üí `price_list_date = "-"`

## üéØ –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

**–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**:
```
‚Ññ | –ü–æ—Å—Ç–∞–≤—â–∏–∫ | –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ | –¢–æ–≤–∞—Ä | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –¶–µ–Ω–∞
1 | –¢–µ—Ö–†—É—Å    | 08.06.2025   | –û—Ç–≤–æ–¥ | 5          | 161.0
                ‚Üë –¢–ï–ö–£–©–ê–Ø –î–ê–¢–ê (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û)
```

**–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**:
```
‚Ññ | –ü–æ—Å—Ç–∞–≤—â–∏–∫ | –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ | –¢–æ–≤–∞—Ä | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –¶–µ–Ω–∞
1 | –¢–µ—Ö–†—É—Å    | 03.03.2025   | –û—Ç–≤–æ–¥ | 5          | 161.0
                ‚Üë –î–ê–¢–ê –ò–ó –ü–†–ê–ô–°-–õ–ò–°–¢–ê (–ü–†–ê–í–ò–õ–¨–ù–û)
```

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞:**
- ‚úÖ –ö–ü –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—Ç—ã –∏–∑ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤, –Ω–µ —Ç–µ–∫—É—â–∏–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞—Ç –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≥–æ–¥–æ–≤ (25 ‚Üí 2025)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –¥–∞—Ç
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ –≤ –ö–ü.** 